import{Q as h,b as a,a as m}from"./QList.c9bf3e8c.js";import{aa as w,U as u,ap as _,V as p,W as t,F as f,_ as o,aJ as g,ar as x,d as e,at as y,L as k,a0 as l,aw as r,a1 as v}from"./index.36f5f32c.js";const q=o("div",{class:"window-width text-center"},[o("h5",null,[o("b",null,"\u8A02\u55AE\u7BA1\u7406")])],-1),D=l("\u8A02\u55AEID"),B=l("\u4E0B\u55AE\u65E5\u671F"),L=l("\u5408\u8A08"),P=l("\u4E0B\u55AE\u5E33\u865F"),Q=l("\u8A02\u55AE\u5167\u5BB9"),S=o("p",null,"\u6C92\u6709\u8A02\u55AE",-1),F={__name:"OrdersPage",setup(V){const d=w([]);return(async()=>{try{const{data:c}=await g.get("/orders/all");d.push(...c.result.map(i=>(i.totalPrice=i.products.reduce((s,n)=>s+n.product.price*n.quantity,0),i)))}catch(c){console.log(c),x.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(c,i)=>(u(),_(f,null,[q,d.length>0?(u(),p(h,{key:0,separator:"",bordered:"",class:"q-pa-xs q-ma-none",style:{width:"80vw",margin:"auto"}},{default:t(()=>[e(m,null,{default:t(()=>[e(a,null,{default:t(()=>[D]),_:1}),e(a,null,{default:t(()=>[B]),_:1}),e(a,null,{default:t(()=>[L]),_:1}),e(a,null,{default:t(()=>[P]),_:1}),e(a,null,{default:t(()=>[Q]),_:1})]),_:1}),(u(!0),_(f,null,y(d,s=>k((u(),p(m,{clickable:"",class:"q-ma-none",key:s._id},{default:t(()=>[e(a,null,{default:t(()=>[l(r(s._id),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(new Date(s.date).toLocaleDateString()),1)]),_:2},1024),e(a,null,{default:t(()=>[l("$ "+r(s.totalPrice),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(s.user.account),1)]),_:2},1024),e(a,null,{default:t(()=>[(u(!0),_(f,null,y(s.products,n=>(u(),_("div",{key:n._id}," \u27A4 "+r(n.product.name)+" x "+r(n.quantity)+" \uFF08"+r(n.remark)+"\uFF09 ",1))),128))]),_:2},1024)]),_:2},1024)),[[v]])),128))]),_:1})):(u(),p(h,{key:1,class:"text-center"},{default:t(()=>[S]),_:1}))],64))}};export{F as default};
