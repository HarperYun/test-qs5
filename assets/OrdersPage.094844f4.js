import{Q as h,b as a,a as m}from"./QList.92704ebb.js";import{ad as w,Y as u,as as _,Z as f,_ as t,F as p,a2 as o,aI as g,au as x,d as e,aw as y,L as k,a3 as l,az as r,a4 as v}from"./index.31da4680.js";const q=o("div",{class:"window-width text-center"},[o("h5",null,[o("b",null,"\u8A02\u55AE\u7BA1\u7406")])],-1),D=l("\u8A02\u55AEID"),B=l("\u4E0B\u55AE\u65E5\u671F"),I=l("\u5408\u8A08"),L=l("\u4E0B\u55AE\u5E33\u865F"),P=l("\u8A02\u55AE\u5167\u5BB9"),Q=o("p",null,"\u6C92\u6709\u8A02\u55AE",-1),F={__name:"OrdersPage",setup(S){const d=w([]);return(async()=>{try{const{data:c}=await g.get("/orders/all");d.push(...c.result.map(i=>(i.totalPrice=i.products.reduce((s,n)=>s+n.product.price*n.quantity,0),i)))}catch(c){console.log(c),x.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(c,i)=>(u(),_(p,null,[q,d.length>0?(u(),f(h,{key:0,separator:"",bordered:"",class:"q-pa-xs q-ma-none",style:{width:"80vw",margin:"auto"}},{default:t(()=>[e(m,null,{default:t(()=>[e(a,null,{default:t(()=>[D]),_:1}),e(a,null,{default:t(()=>[B]),_:1}),e(a,null,{default:t(()=>[I]),_:1}),e(a,null,{default:t(()=>[L]),_:1}),e(a,null,{default:t(()=>[P]),_:1})]),_:1}),(u(!0),_(p,null,y(d,s=>k((u(),f(m,{clickable:"",class:"q-ma-none",key:s._id},{default:t(()=>[e(a,null,{default:t(()=>[l(r(s._id),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(new Date(s.date).toLocaleDateString()),1)]),_:2},1024),e(a,null,{default:t(()=>[l("$ "+r(s.totalPrice),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(s.user.account),1)]),_:2},1024),e(a,null,{default:t(()=>[(u(!0),_(p,null,y(s.products,n=>(u(),_("div",{key:n._id}," \u27A4 "+r(n.product.name)+" x "+r(n.quantity)+" \uFF08"+r(n.remark)+"\uFF09 ",1))),128))]),_:2},1024)]),_:2},1024)),[[v]])),128))]),_:1})):(u(),f(h,{key:1,class:"text-center"},{default:t(()=>[Q]),_:1}))],64))}};export{F as default};
