import{n as Qt,r as H,c as y,w as U,I as ue,aP as Ut,aA as Xt,ai as Yt,aj as Gt,K as Ee,h as V,g as _e,j as De,A as kt,aF as Zt,C as Vt,aG as Jt,M as el,$ as Le,aH as tl,a1 as ll,y as ie,N as qt,ad as pt,t as Te,q as dt,o as nl,x as ol,a6 as Ue,aQ as ft,m as ul,a9 as il,z as al,aR as rl,B as sl,ah as cl,D as dl,aS as fl,G as vl,aT as ml,aU as hl,aV as vt,aW as gl,v as Sl,aX as bl,a5 as yl,aY as wl,ak as xl,aD as Cl,aZ as kl,a_ as Vl,a$ as Mt,b0 as ql,b1 as pl,b2 as Ml,b3 as mt,b4 as ze,b5 as zl,b6 as Al,b7 as Tl,b8 as El,u as Ve,b9 as ht,ag as _l,ba as Bl,bb as Il,k as Hl}from"./index.36f5f32c.js";import{b as Ol,a as Fl}from"./QList.c9bf3e8c.js";import{c as Ll}from"./selection.c8761ded.js";import{r as Xe}from"./rtl.4b414a6d.js";const Z=1e3,Rl=["start","center","end","start-force","center-force","end-force"],zt=Array.prototype.filter,Pl=window.getComputedStyle(document.body).overflowAnchor===void 0?Qt:function(e,l){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const n=e.children||[];zt.call(n,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const u=n[l];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function qe(e,l){return e+l}function Qe(e,l,n,u,s,o,c,h){const m=e===window?document.scrollingElement||document.documentElement:e,g=s===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-c-h,scrollMaxSize:0,offsetStart:-c,offsetEnd:-h};if(s===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=m.scrollLeft,r.scrollViewSize+=m.clientWidth),r.scrollMaxSize=m.scrollWidth,o===!0&&(r.scrollStart=(Xe===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=m.scrollTop,r.scrollViewSize+=m.clientHeight),r.scrollMaxSize=m.scrollHeight),n!==null)for(let q=n.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=q[g]);if(u!==null)for(let q=u.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=q[g]);if(l!==e){const q=m.getBoundingClientRect(),z=l.getBoundingClientRect();s===!0?(r.offsetStart+=z.left-q.left,r.offsetEnd-=z.width):(r.offsetStart+=z.top-q.top,r.offsetEnd-=z.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function gt(e,l,n,u){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(u===!0&&(l=(Xe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(u===!0&&(l=(Xe===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Ae(e,l,n,u){if(n>=u)return 0;const s=l.length,o=Math.floor(n/Z),c=Math.floor((u-1)/Z)+1;let h=e.slice(o,c).reduce(qe,0);return n%Z!==0&&(h-=l.slice(o*Z,n).reduce(qe,0)),u%Z!==0&&u!==s&&(h-=l.slice(u,c*Z).reduce(qe,0)),h}const At={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},sn=Object.keys(At),Dl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...At};function $l({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:u}){const s=_e(),{props:o,emit:c,proxy:h}=s,{$q:m}=h;let g,r,q,z=[],i;const T=H(0),L=H(0),M=H({}),W=H(null),P=H(null),X=H(null),O=H({from:0,to:0}),B=y(()=>o.tableColspan!==void 0?o.tableColspan:100);u===void 0&&(u=y(()=>o.virtualScrollItemSize));const Y=y(()=>u.value+";"+o.virtualScrollHorizontal),ae=y(()=>Y.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);U(ae,()=>{te()}),U(Y,N);function N(){ee(r,!0)}function re(d){ee(d===void 0?r:d)}function J(d,S){const x=l();if(x==null||x.nodeType===8)return;const E=Qe(x,n(),W.value,P.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);q!==E.scrollViewSize&&te(E.scrollViewSize),le(x,E,Math.min(e.value-1,Math.max(0,parseInt(d,10)||0)),0,Rl.indexOf(S)>-1?S:r>-1&&d>r?"end":"start")}function K(){const d=l();if(d==null||d.nodeType===8)return;const S=Qe(d,n(),W.value,P.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),x=e.value-1,E=S.scrollMaxSize-S.offsetStart-S.offsetEnd-L.value;if(g===S.scrollStart)return;if(S.scrollMaxSize<=0){le(d,S,0,0);return}q!==S.scrollViewSize&&te(S.scrollViewSize),se(O.value.from);const R=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(i[x],S.scrollViewSize/2));if(R>0&&Math.ceil(S.scrollStart)>=R){le(d,S,x,S.scrollMaxSize-S.offsetEnd-z.reduce(qe,0));return}let p=0,C=S.scrollStart-S.offsetStart,I=C;if(C<=E&&C+S.scrollViewSize>=T.value)C-=T.value,p=O.value.from,I=C;else for(let k=0;C>=z[k]&&p<x;k++)C-=z[k],p+=Z;for(;C>0&&p<x;)C-=i[p],C>-S.scrollViewSize?(p++,I=C):I=i[p]+C;le(d,S,p,I)}function le(d,S,x,E,R){const p=typeof R=="string"&&R.indexOf("-force")>-1,C=p===!0?R.replace("-force",""):R,I=C!==void 0?C:"start";let k=Math.max(0,x-M.value[I]),b=k+M.value.total;b>e.value&&(b=e.value,k=Math.max(0,b-M.value.total)),g=S.scrollStart;const G=k!==O.value.from||b!==O.value.to;if(G===!1&&C===void 0){ce(x);return}const{activeElement:de}=document,j=X.value;G===!0&&j!==null&&j!==de&&j.contains(de)===!0&&(j.addEventListener("focusout",ne),setTimeout(()=>{j!==null&&j.removeEventListener("focusout",ne)})),Pl(j,x-k);const Be=C!==void 0?i.slice(k,x).reduce(qe,0):0;if(G===!0){const ge=b>=O.value.from&&k<=O.value.to?O.value.to:b;O.value={from:k,to:ge},T.value=Ae(z,i,0,k),L.value=Ae(z,i,b,e.value),requestAnimationFrame(()=>{O.value.to!==b&&g===S.scrollStart&&(O.value={from:O.value.from,to:b},L.value=Ae(z,i,b,e.value))})}requestAnimationFrame(()=>{if(g!==S.scrollStart)return;G===!0&&se(k);const ge=i.slice(k,x).reduce(qe,0),Se=ge+S.offsetStart+T.value,Ie=Se+i[x];let pe=Se+E;if(C!==void 0){const Q=ge-Be,D=S.scrollStart+Q;pe=p!==!0&&D<Se&&Ie<D+S.scrollViewSize?D:C==="end"?Ie-S.scrollViewSize:Se-(C==="start"?0:Math.round((S.scrollViewSize-i[x])/2))}g=pe,gt(d,pe,o.virtualScrollHorizontal,m.lang.rtl),ce(x)})}function se(d){const S=X.value;if(S){const x=zt.call(S.children,k=>k.classList&&k.classList.contains("q-virtual-scroll--skip")===!1),E=x.length,R=o.virtualScrollHorizontal===!0?k=>k.getBoundingClientRect().width:k=>k.offsetHeight;let p=d,C,I;for(let k=0;k<E;){for(C=R(x[k]),k++;k<E&&x[k].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=R(x[k]),k++;I=C-i[p],I!==0&&(i[p]+=I,z[Math.floor(p/Z)]+=I),p++}}}function ne(){X.value!==null&&X.value!==void 0&&X.value.focus()}function ee(d,S){const x=1*u.value;(S===!0||Array.isArray(i)===!1)&&(i=[]);const E=i.length;i.length=e.value;for(let p=e.value-1;p>=E;p--)i[p]=x;const R=Math.floor((e.value-1)/Z);z=[];for(let p=0;p<=R;p++){let C=0;const I=Math.min((p+1)*Z,e.value);for(let k=p*Z;k<I;k++)C+=i[k];z.push(C)}r=-1,g=void 0,T.value=Ae(z,i,0,O.value.from),L.value=Ae(z,i,O.value.to,e.value),d>=0?(se(O.value.from),ue(()=>{J(d)})):oe()}function te(d){if(d===void 0&&typeof window!="undefined"){const C=l();C!=null&&C.nodeType!==8&&(d=Qe(C,n(),W.value,P.value,o.virtualScrollHorizontal,m.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}q=d;const S=parseFloat(o.virtualScrollSliceRatioBefore)||0,x=parseFloat(o.virtualScrollSliceRatioAfter)||0,E=1+S+x,R=d===void 0||d<=0?1:Math.ceil(d/u.value),p=Math.max(1,R,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/E));M.value={total:Math.ceil(p*E),start:Math.ceil(p*S),center:Math.ceil(p*(.5+S)),end:Math.ceil(p*(1+S)),view:R}}function he(d,S){const x=o.virtualScrollHorizontal===!0?"width":"height",E={["--q-virtual-scroll-item-"+x]:u.value+"px"};return[d==="tbody"?V(d,{class:"q-virtual-scroll__padding",key:"before",ref:W},[V("tr",[V("td",{style:{[x]:`${T.value}px`,...E},colspan:B.value})])]):V(d,{class:"q-virtual-scroll__padding",key:"before",ref:W,style:{[x]:`${T.value}px`,...E}}),V(d,{class:"q-virtual-scroll__content",key:"content",ref:X,tabindex:-1},S.flat()),d==="tbody"?V(d,{class:"q-virtual-scroll__padding",key:"after",ref:P},[V("tr",[V("td",{style:{[x]:`${L.value}px`,...E},colspan:B.value})])]):V(d,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[x]:`${L.value}px`,...E}})]}function ce(d){r!==d&&(o.onVirtualScroll!==void 0&&c("virtual-scroll",{index:d,from:O.value.from,to:O.value.to-1,direction:d<r?"decrease":"increase",ref:h}),r=d)}te();const oe=Ut(K,m.platform.is.ios===!0?120:35);Xt(()=>{te()});let f=!1;return Yt(()=>{f=!0}),Gt(()=>{if(f!==!0)return;const d=l();g!==void 0&&d!==void 0&&d!==null&&d.nodeType!==8?gt(d,g,o.virtualScrollHorizontal,m.lang.rtl):J(r)}),Ee(()=>{oe.cancel()}),Object.assign(h,{scrollTo:J,reset:N,refresh:re}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:M,setVirtualScrollSize:te,onVirtualScrollEvt:oe,localResetVirtualScroll:ee,padVirtualScroll:he,scrollTo:J,reset:N,refresh:re}}const Wl={xs:8,sm:10,md:14,lg:20,xl:24};var Nl=De({name:"QChip",props:{...kt,...Zt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:u}}=_e(),s=Vt(e,u),o=Jt(e,Wl),c=y(()=>e.selected===!0||e.icon!==void 0),h=y(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),m=y(()=>e.iconRemove||u.iconSet.chip.remove),g=y(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=y(()=>{const M=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(M?` text-${M} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),q=y(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function z(M){M.keyCode===13&&i(M)}function i(M){e.disable||(n("update:selected",!e.selected),n("click",M))}function T(M){(M.keyCode===void 0||M.keyCode===13)&&(ie(M),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function L(){const M=[];g.value===!0&&M.push(V("div",{class:"q-focus-helper"})),c.value===!0&&M.push(V(Le,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const W=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return M.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},tl(l.default,W))),e.iconRight&&M.push(V(Le,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&M.push(V(Le,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...q.value,onClick:T,onKeyup:T})),M}return()=>{if(e.modelValue===!1)return;const M={class:r.value,style:o.value};return g.value===!0&&Object.assign(M,q.value,{onClick:i,onKeyup:z}),el("div",M,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ll,e.ripple]])}}}),Kl=De({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=y(()=>parseInt(e.lines,10)),u=y(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),s=y(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>V("div",{style:s.value,class:u.value},qt(l.default))}});const jl={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ql({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:u,proxy:s,emit:o}=_e(),c=H(null);let h;function m(i){return c.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(i){s.hide(i)},toggle(i){s.toggle(i),i.qAnchorHandled=!0},toggleKey(i){pt(i,13)===!0&&g.toggle(i)},contextClick(i){s.hide(i),Te(i),ue(()=>{s.show(i),i.qAnchorHandled=!0})},prevent:Te,mobileTouch(i){if(g.mobileCleanup(i),m(i)!==!0)return;s.hide(i),c.value.classList.add("non-selectable");const T=i.target;dt(g,"anchor",[[T,"touchmove","mobileCleanup","passive"],[T,"touchend","mobileCleanup","passive"],[T,"touchcancel","mobileCleanup","passive"],[c.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{s.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){c.value.classList.remove("non-selectable"),clearTimeout(h),e.value===!0&&i!==void 0&&Ll()}}),n=function(i=u.contextMenu){if(u.noParentEvent===!0||c.value===null)return;let T;i===!0?s.$q.platform.is.mobile===!0?T=[[c.value,"touchstart","mobileTouch","passive"]]:T=[[c.value,"mousedown","hide","passive"],[c.value,"contextmenu","contextClick","notPassive"]]:T=[[c.value,"click","toggle","passive"],[c.value,"keyup","toggleKey","passive"]],dt(g,"anchor",T)});function r(){ol(g,"anchor")}function q(i){for(c.value=i;c.value.classList.contains("q-anchor--skip");)c.value=c.value.parentNode;n()}function z(){if(u.target===!1||u.target===""||s.$el.parentNode===null)c.value=null;else if(u.target===!0)q(s.$el.parentNode);else{let i=u.target;if(typeof u.target=="string")try{i=document.querySelector(u.target)}catch{i=void 0}i!=null?(c.value=i.$el||i,n()):(c.value=null,console.error(`Anchor: target "${u.target}" not found`))}}return U(()=>u.contextMenu,i=>{c.value!==null&&(r(),n(i))}),U(()=>u.target,()=>{c.value!==null&&r(),z()}),U(()=>u.noParentEvent,i=>{c.value!==null&&(i===!0?r():n())}),nl(()=>{z(),l!==!0&&u.modelValue===!0&&c.value===null&&o("update:modelValue",!1)}),Ee(()=>{clearTimeout(h),r()}),{anchorEl:c,canShow:m,anchorEvents:g}}function Ul(e,l){const n=H(null);let u;function s(h,m){const g=`${m!==void 0?"add":"remove"}EventListener`,r=m!==void 0?m:u;h!==window&&h[g]("scroll",r,Ue.passive),window[g]("scroll",r,Ue.passive),u=m}function o(){n.value!==null&&(s(n.value),n.value=null)}const c=U(()=>e.noParentEvent,()=>{n.value!==null&&(o(),l())});return Ee(c),{localScrollTarget:n,unconfigureScrollTarget:o,changeScrollEvent:s}}let Tt;const{notPassiveCapture:Re}=Ue,me=[];function Pe(e){clearTimeout(Tt);const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=ft.length-1;for(;n>=0;){const u=ft[n].$;if(u.type.name!=="QDialog")break;if(u.props.seamless!==!0)return;n--}for(let u=me.length-1;u>=0;u--){const s=me[u];if((s.anchorEl.value===null||s.anchorEl.value.contains(l)===!1)&&(l===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(l)===!1))e.qClickOutside=!0,s.onClickOutside(e);else return}}function Xl(e){me.push(e),me.length===1&&(document.addEventListener("mousedown",Pe,Re),document.addEventListener("touchstart",Pe,Re))}function St(e){const l=me.findIndex(n=>n===e);l>-1&&(me.splice(l,1),me.length===0&&(clearTimeout(Tt),document.removeEventListener("mousedown",Pe,Re),document.removeEventListener("touchstart",Pe,Re)))}let bt,yt;function wt(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Yl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ye={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ye[`${e}#ltr`]=e,Ye[`${e}#rtl`]=e});function xt(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:Ye[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function Gl(e,l){let{top:n,left:u,right:s,bottom:o,width:c,height:h}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],u-=l[0],o+=l[1],s+=l[0],c+=l[0],h+=l[1]),{top:n,left:u,right:s,bottom:o,width:c,height:h,middle:u+(s-u)/2,center:n+(o-n)/2}}function Zl(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Jl(e){if(ul.is.ios===!0&&window.visualViewport!==void 0){const h=document.body.style,{offsetLeft:m,offsetTop:g}=window.visualViewport;m!==bt&&(h.setProperty("--q-pe-left",m+"px"),bt=m),g!==yt&&(h.setProperty("--q-pe-top",g+"px"),yt=g)}let l;const{scrollLeft:n,scrollTop:u}=e.el;if(e.absoluteOffset===void 0)l=Gl(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:h,left:m}=e.anchorEl.getBoundingClientRect(),g=h+e.absoluteOffset.top,r=m+e.absoluteOffset.left;l={top:g,left:r,width:1,height:1,right:r+1,center:g,middle:r,bottom:g+1}}let s={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(s.minWidth=l.width+"px",e.cover===!0&&(s.minHeight=l.height+"px")),Object.assign(e.el.style,s);const o=Zl(e.el),c={top:l[e.anchorOrigin.vertical]-o[e.selfOrigin.vertical],left:l[e.anchorOrigin.horizontal]-o[e.selfOrigin.horizontal]};en(c,l,o,e.anchorOrigin,e.selfOrigin),s={top:c.top+"px",left:c.left+"px"},c.maxHeight!==void 0&&(s.maxHeight=c.maxHeight+"px",l.height>c.maxHeight&&(s.minHeight=s.maxHeight)),c.maxWidth!==void 0&&(s.maxWidth=c.maxWidth+"px",l.width>c.maxWidth&&(s.minWidth=s.maxWidth)),Object.assign(e.el.style,s),e.el.scrollTop!==u&&(e.el.scrollTop=u),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function en(e,l,n,u,s){const o=n.bottom,c=n.right,h=il(),m=window.innerHeight-h,g=document.body.clientWidth;if(e.top<0||e.top+o>m)if(s.vertical==="center")e.top=l[u.vertical]>m/2?Math.max(0,m-o):0,e.maxHeight=Math.min(o,m);else if(l[u.vertical]>m/2){const r=Math.min(m,u.vertical==="center"?l.center:u.vertical===s.vertical?l.bottom:l.top);e.maxHeight=Math.min(o,r),e.top=Math.max(0,r-o)}else e.top=Math.max(0,u.vertical==="center"?l.center:u.vertical===s.vertical?l.top:l.bottom),e.maxHeight=Math.min(o,m-e.top);if(e.left<0||e.left+c>g)if(e.maxWidth=Math.min(c,g),s.horizontal==="middle")e.left=l[u.horizontal]>g/2?Math.max(0,g-c):0;else if(l[u.horizontal]>g/2){const r=Math.min(g,u.horizontal==="middle"?l.middle:u.horizontal===s.horizontal?l.right:l.left);e.maxWidth=Math.min(c,r),e.left=Math.max(0,r-e.maxWidth)}else e.left=Math.max(0,u.horizontal==="middle"?l.middle:u.horizontal===s.horizontal?l.left:l.right),e.maxWidth=Math.min(c,g-e.left)}var tn=De({name:"QMenu",inheritAttrs:!1,props:{...jl,...al,...kt,...rl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:wt},self:{type:String,validator:wt},offset:{type:Array,validator:Yl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...sl,"click","escape-key"],setup(e,{slots:l,emit:n,attrs:u}){let s=null,o,c,h;const m=_e(),{proxy:g}=m,{$q:r}=g,q=H(null),z=H(!1),i=y(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=Vt(e,r),{registerTick:L,removeTick:M}=cl(),{registerTimeout:W,removeTimeout:P}=dl(),{transition:X,transitionStyle:O}=fl(e,z),{localScrollTarget:B,changeScrollEvent:Y,unconfigureScrollTarget:ae}=Ul(e,E),{anchorEl:N,canShow:re}=Ql({showing:z}),{hide:J}=vl({showing:z,canShow:re,handleShow:d,handleHide:S,hideOnRouteChange:i,processOnMount:!0}),{showPortal:K,hidePortal:le,renderPortal:se}=ml(m,q,k),ne={anchorEl:N,innerRef:q,onClickOutside(b){if(e.persistent!==!0&&z.value===!0)return J(b),(b.type==="touchstart"||b.target.classList.contains("q-dialog__backdrop"))&&ie(b),!0}},ee=y(()=>xt(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),te=y(()=>e.cover===!0?ee.value:xt(e.self||"top start",r.lang.rtl)),he=y(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),ce=y(()=>e.autoClose===!0?{onClick:R}:{}),oe=y(()=>z.value===!0&&e.persistent!==!0);U(oe,b=>{b===!0?(hl(C),Xl(ne)):(vt(C),St(ne))});function f(){Cl(()=>{let b=q.value;b&&b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function d(b){if(M(),P(),s=e.noRefocus===!1?document.activeElement:null,gl(p),K(),E(),o=void 0,b!==void 0&&(e.touchPosition||e.contextMenu)){const G=Sl(b);if(G.left!==void 0){const{top:de,left:j}=N.value.getBoundingClientRect();o={left:G.left-j,top:G.top-de}}}c===void 0&&(c=U(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,I)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{I(),e.noFocus!==!0&&f()}),W(()=>{r.platform.is.ios===!0&&(h=e.autoClose,q.value.click()),I(),K(!0),n("show",b)},e.transitionDuration)}function S(b){M(),P(),le(),x(!0),s!==null&&(b===void 0||b.qClickOutside!==!0)&&(s.focus(),s=null),W(()=>{le(!0),n("hide",b)},e.transitionDuration)}function x(b){o=void 0,c!==void 0&&(c(),c=void 0),(b===!0||z.value===!0)&&(bl(p),ae(),St(ne),vt(C)),b!==!0&&(s=null)}function E(){(N.value!==null||e.scrollTarget!==void 0)&&(B.value=yl(N.value,e.scrollTarget),Y(B.value,I))}function R(b){h!==!0?(wl(g,b),n("click",b)):h=!1}function p(b){oe.value===!0&&e.noFocus!==!0&&kl(q.value,b.target)!==!0&&f()}function C(b){n("escape-key"),J(b)}function I(){const b=q.value;b===null||N.value===null||Jl({el:b,offset:e.offset,anchorEl:N.value,anchorOrigin:ee.value,selfOrigin:te.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function k(){return V(xl,{name:X.value,appear:!0},()=>z.value===!0?V("div",{...u,ref:q,tabindex:-1,class:["q-menu q-position-engine scroll"+he.value,u.class],style:[u.style,O.value],...ce.value},qt(l.default)):null)}return Ee(x),Object.assign(g,{focus:f,updatePosition:I}),se}});const Ct=e=>["add","add-unique","toggle"].includes(e),ln=".*+?^${}()|[]\\",nn=Object.keys(Mt);var cn=De({name:"QSelect",inheritAttrs:!1,props:{...Dl,...Vl,...Mt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ct},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ql,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:u}=_e(),{$q:s}=u,o=H(!1),c=H(!1),h=H(-1),m=H(""),g=H(!1),r=H(!1);let q,z,i,T,L,M,W,P,X;const O=H(null),B=H(null),Y=H(null),ae=H(null),N=H(null),re=pl(e),J=El(it),K=y(()=>Array.isArray(e.options)?e.options.length:0),le=y(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:ee,padVirtualScroll:te,onVirtualScrollEvt:he,scrollTo:ce,setVirtualScrollSize:oe}=$l({virtualScrollLength:K,getVirtualScrollTarget:It,getVirtualScrollEl:ot,virtualScrollItemSizeComputed:le}),f=Ml(),d=y(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,v=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const a=e.mapOptions===!0&&z!==void 0?z:[],w=v.map(_=>Bt(_,a));return e.modelValue===null&&t===!0?w.filter(_=>_!==null):w}return v}),S=y(()=>{const t={};return nn.forEach(v=>{const a=e[v];a!==void 0&&(t[v]=a)}),t}),x=y(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),E=y(()=>mt(d.value)),R=y(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||d.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),p=y(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=y(()=>K.value===0),I=y(()=>d.value.map(t=>D.value(t)).join(", ")),k=y(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),b=y(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||d.value.some(k.value))),G=y(()=>f.focused.value===!0?e.tabindex:-1),de=y(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-owns":`${f.targetUid.value}_lb`,"aria-controls":`${f.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${h.value}`),t}),j=y(()=>{const t={id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return h.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${h.value}`),t}),Be=y(()=>d.value.map((t,v)=>({index:v,opt:t,html:k.value(t),selected:!0,removeAtIndex:_t,toggleOption:fe,tabindex:G.value}))),ge=y(()=>{if(K.value===0)return[];const{from:t,to:v}=se.value;return e.options.slice(t,v).map((a,w)=>{const _=be.value(a)===!0,A=t+w,F={clickable:!0,active:!1,activeClass:pe.value,manualFocus:!0,focused:!1,disable:_,tabindex:-1,dense:e.optionsDense,dark:x.value,role:"option",id:`${f.targetUid.value}_${A}`,onClick:()=>{fe(a)}};return _!==!0&&(Ne(a)===!0&&(F.active=!0),h.value===A&&(F.focused=!0),F["aria-selected"]=F.active===!0?"true":"false",s.platform.is.desktop===!0&&(F.onMousemove=()=>{o.value===!0&&ye(A)})),{index:A,opt:a,html:k.value(a),label:D.value(a),selected:F.active,focused:F.focused,toggleOption:fe,setOptionIndex:ye,itemProps:F}})}),Se=y(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),Ie=y(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),pe=y(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Q=y(()=>We(e.optionValue,"value")),D=y(()=>We(e.optionLabel,"label")),be=y(()=>We(e.optionDisable,"disable")),He=y(()=>d.value.map(t=>Q.value(t))),Et=y(()=>{const t={onInput:it,onChange:J,onKeydown:nt,onKeyup:tt,onKeypress:lt,onFocus:Je,onClick(v){i===!0&&Ve(v)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=J,t});U(d,t=>{z=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(c.value!==!0&&o.value!==!0||E.value!==!0)&&(T!==!0&&ke(),(c.value===!0||o.value===!0)&&we(""))},{immediate:!0}),U(()=>e.fillInput,ke),U(o,Ke),U(K,jt);function Ge(t){return e.emitValue===!0?Q.value(t):t}function $e(t){if(t>-1&&t<d.value.length)if(e.multiple===!0){const v=e.modelValue.slice();n("remove",{index:t,value:v.splice(t,1)[0]}),n("update:modelValue",v)}else n("update:modelValue",null)}function _t(t){$e(t),f.focus()}function Ze(t,v){const a=Ge(t);if(e.multiple!==!0){e.fillInput===!0&&Me(D.value(t),!0,!0),n("update:modelValue",a);return}if(d.value.length===0){n("add",{index:0,value:a}),n("update:modelValue",e.multiple===!0?[a]:a);return}if(v===!0&&Ne(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const w=e.modelValue.slice();n("add",{index:w.length,value:a}),w.push(a),n("update:modelValue",w)}function fe(t,v){if(f.editable.value!==!0||t===void 0||be.value(t)===!0)return;const a=Q.value(t);if(e.multiple!==!0){v!==!0&&(Me(e.fillInput===!0?D.value(t):"",!0,!0),ve()),B.value!==null&&B.value.focus(),(d.value.length===0||ze(Q.value(d.value[0]),a)!==!0)&&n("update:modelValue",e.emitValue===!0?a:t);return}if((i!==!0||g.value===!0)&&f.focus(),Je(),d.value.length===0){const A=e.emitValue===!0?a:t;n("add",{index:0,value:A}),n("update:modelValue",e.multiple===!0?[A]:A);return}const w=e.modelValue.slice(),_=He.value.findIndex(A=>ze(A,a));if(_>-1)n("remove",{index:_,value:w.splice(_,1)[0]});else{if(e.maxValues!==void 0&&w.length>=e.maxValues)return;const A=e.emitValue===!0?a:t;n("add",{index:w.length,value:A}),w.push(A)}n("update:modelValue",w)}function ye(t){if(s.platform.is.desktop!==!0)return;const v=t>-1&&t<K.value?t:-1;h.value!==v&&(h.value=v)}function Oe(t=1,v){if(o.value===!0){let a=h.value;do a=ht(a+t,-1,K.value-1);while(a!==-1&&a!==h.value&&be.value(e.options[a])===!0);h.value!==a&&(ye(a),ce(a),v!==!0&&e.useInput===!0&&e.fillInput===!0&&Fe(a>=0?D.value(e.options[a]):M))}}function Bt(t,v){const a=w=>ze(Q.value(w),t);return e.options.find(a)||v.find(a)||t}function We(t,v){const a=t!==void 0?t:v;return typeof a=="function"?a:w=>w!==null&&typeof w=="object"&&a in w?w[a]:w}function Ne(t){const v=Q.value(t);return He.value.find(a=>ze(a,v))!==void 0}function Je(t){e.useInput===!0&&B.value!==null&&(t===void 0||B.value===t.target&&t.target.value===I.value)&&B.value.select()}function et(t){pt(t,27)===!0&&o.value===!0&&(Ve(t),ve(),ke()),n("keyup",t)}function tt(t){const{value:v}=t.target;if(t.keyCode!==void 0){et(t);return}if(t.target.value="",clearTimeout(q),ke(),typeof v=="string"&&v.length>0){const a=v.toLocaleLowerCase(),w=A=>{const F=e.options.find($=>A.value($).toLocaleLowerCase()===a);return F===void 0?!1:(d.value.indexOf(F)===-1?fe(F):ve(),!0)},_=A=>{w(Q)!==!0&&(w(D)===!0||A===!0||we(v,!0,()=>_(!0)))};_()}else f.clearValue(t)}function lt(t){n("keypress",t)}function nt(t){if(n("keydown",t),_l(t)===!0)return;const v=m.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),a=t.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||v===!0);if(t.keyCode===27){Te(t);return}if(t.keyCode===9&&a===!1){xe();return}if(t.target===void 0||t.target.id!==f.targetUid.value)return;if(t.keyCode===40&&f.innerLoading.value!==!0&&o.value===!1){ie(t),Ce();return}if(t.keyCode===8&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?$e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(ie(t),h.value=-1,Oe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ne.value!==void 0&&(ie(t),h.value=Math.max(-1,Math.min(K.value,h.value+(t.keyCode===33?-1:1)*ne.value.view)),Oe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ie(t),Oe(t.keyCode===38?-1:1,e.multiple));const w=K.value;if((P===void 0||X<Date.now())&&(P=""),w>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||P.length>0)){o.value!==!0&&Ce(t);const _=t.key.toLocaleLowerCase(),A=P.length===1&&P[0]===_;X=Date.now()+1500,A===!1&&(ie(t),P+=_);const F=new RegExp("^"+P.split("").map(je=>ln.indexOf(je)>-1?"\\"+je:je).join(".*"),"i");let $=h.value;if(A===!0||$<0||F.test(D.value(e.options[$]))!==!0)do $=ht($+1,-1,w-1);while($!==h.value&&(be.value(e.options[$])===!0||F.test(D.value(e.options[$]))!==!0));h.value!==$&&ue(()=>{ye($),ce($),$>=0&&e.useInput===!0&&e.fillInput===!0&&Fe(D.value(e.options[$]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||a===!1))){if(t.keyCode!==9&&ie(t),h.value>-1&&h.value<w){fe(e.options[h.value]);return}if(v===!0){const _=(A,F)=>{if(F){if(Ct(F)!==!0)return}else F=e.newValueMode;if(A==null)return;Me("",e.multiple!==!0,!0),(F==="toggle"?fe:Ze)(A,F==="add-unique"),e.multiple!==!0&&(B.value!==null&&B.value.focus(),ve())};if(e.onNewValue!==void 0?n("new-value",m.value,_):_(m.value),e.multiple!==!0)return}o.value===!0?xe():f.innerLoading.value!==!0&&Ce()}}function ot(){return i===!0?N.value:Y.value!==null&&Y.value.__qPortalInnerRef.value!==null?Y.value.__qPortalInnerRef.value:void 0}function It(){return ot()}function Ht(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Be.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Be.value.map((t,v)=>V(Nl,{key:"option-"+v,removable:f.editable.value===!0&&be.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(v)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:D.value(t.opt)}))):[V("span",{[b.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:I.value})]}function ut(){if(C.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:m.value}):void 0;const t=l.option!==void 0?l.option:a=>V(Fl,{key:a.index,...a.itemProps},()=>V(Ol,()=>V(Kl,()=>V("span",{[a.html===!0?"innerHTML":"textContent"]:a.label}))));let v=te("div",ge.value.map(t));return l["before-options"]!==void 0&&(v=l["before-options"]().concat(v)),Hl(l["after-options"],v)}function Ot(t,v){const a=v===!0?{...de.value,...f.splitAttrs.attributes.value}:void 0,w={ref:v===!0?B:void 0,key:"i_t",class:R.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...a,id:v===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Et.value};return t!==!0&&i===!0&&(Array.isArray(w.class)===!0?w.class=[...w.class,"no-pointer-events"]:w.class+=" no-pointer-events"),V("input",w)}function it(t){clearTimeout(q),!(t&&t.target&&t.target.qComposing===!0)&&(Fe(t.target.value||""),T=!0,M=m.value,f.focused.value!==!0&&(i!==!0||g.value===!0)&&f.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{we(m.value)},e.inputDebounce)))}function Fe(t){m.value!==t&&(m.value=t,n("input-value",t))}function Me(t,v,a){T=a!==!0,e.useInput===!0&&(Fe(t),(v===!0||a!==!0)&&(M=t),v!==!0&&we(t))}function we(t,v,a){if(e.onFilter===void 0||v!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?n("filter-abort"):(f.innerLoading.value=!0,r.value=!0),t!==""&&e.multiple!==!0&&d.value.length>0&&T!==!0&&t===D.value(d.value[0])&&(t="");const w=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);clearTimeout(L),L=w,n("filter",t,(_,A)=>{(v===!0||f.focused.value===!0)&&L===w&&(clearTimeout(L),typeof _=="function"&&_(),r.value=!1,ue(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(v===!0?o.value===!0&&ve():o.value===!0?Ke(!0):o.value=!0),typeof A=="function"&&ue(()=>{A(u)}),typeof a=="function"&&ue(()=>{a(u)})}))},()=>{f.focused.value===!0&&L===w&&(clearTimeout(L),f.innerLoading.value=!1,r.value=!1),o.value===!0&&(o.value=!1)})}function Ft(){return V(tn,{ref:Y,class:p.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:x.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ie.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...j.value,onScrollPassive:he,onBeforeShow:rt,onBeforeHide:Lt,onShow:Rt},ut)}function Lt(t){st(t),xe()}function Rt(){oe()}function Pt(t){Ve(t),B.value!==null&&B.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Dt(t){Ve(t),ue(()=>{g.value=!1})}function $t(){const t=[V(Bl,{class:`col-auto ${f.fieldClass.value}`,...S.value,for:f.targetUid.value,dark:x.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:m.value.length>0,...f.splitAttrs.listeners.value,onFocus:Pt,onBlur:Dt},{...l,rawControl:()=>f.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&t.push(V("div",{ref:N,class:p.value+" scroll",style:e.popupContentStyle,...j.value,onClick:Te,onScrollPassive:he},ut())),V(Il,{ref:ae,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:rt,onBeforeHide:Wt,onHide:Nt,onShow:Kt},()=>V("div",{class:"q-select__dialog"+(x.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function Wt(t){st(t),ae.value!==null&&ae.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function Nt(t){ve(),f.focused.value===!1&&n("blur",t),ke()}function Kt(){const t=document.activeElement;(t===null||t.id!==f.targetUid.value)&&B.value!==null&&B.value!==t&&B.value.focus(),oe()}function xe(){c.value!==!0&&(h.value=-1,o.value===!0&&(o.value=!1),f.focused.value===!1&&(clearTimeout(L),L=void 0,f.innerLoading.value===!0&&(n("filter-abort"),f.innerLoading.value=!1,r.value=!1)))}function Ce(t){f.editable.value===!0&&(i===!0?(f.onControlFocusin(t),c.value=!0,ue(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?we(m.value):(C.value!==!0||l["no-option"]!==void 0)&&(o.value=!0))}function ve(){c.value=!1,xe()}function ke(){e.useInput===!0&&Me(e.multiple!==!0&&e.fillInput===!0&&d.value.length>0&&D.value(d.value[0])||"",!0,!0)}function Ke(t){let v=-1;if(t===!0){if(d.value.length>0){const a=Q.value(d.value[0]);v=e.options.findIndex(w=>ze(Q.value(w),a))}ee(v)}ye(v)}function jt(t,v){o.value===!0&&f.innerLoading.value===!1&&(ee(-1,!0),ue(()=>{o.value===!0&&f.innerLoading.value===!1&&(t>v?ee():Ke(!0))}))}function at(){c.value===!1&&Y.value!==null&&Y.value.updatePosition()}function rt(t){t!==void 0&&Ve(t),n("popup-show",t),f.hasPopupOpen=!0,f.onControlFocusin(t)}function st(t){t!==void 0&&Ve(t),n("popup-hide",t),f.hasPopupOpen=!1,f.onControlFocusout(t)}function ct(){i=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),W=s.platform.is.ios===!0&&i===!0&&e.useInput===!0?"fade":e.transitionShow}return zl(ct),Al(at),ct(),Ee(()=>{clearTimeout(q)}),Object.assign(u,{showPopup:Ce,hidePopup:ve,removeAtIndex:$e,add:Ze,toggleOption:fe,getOptionIndex:()=>h.value,setOptionIndex:ye,moveOptionSelection:Oe,filter:we,updateMenuPosition:at,updateInputValue:Me,isOptionSelected:Ne,getEmittingOptionValue:Ge,isOptionDisabled:(...t)=>be.value.apply(null,t)===!0,getOptionValue:(...t)=>Q.value.apply(null,t),getOptionLabel:(...t)=>D.value.apply(null,t)}),Object.assign(f,{innerValue:d,fieldClass:y(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:B,hasValue:E,showPopup:Ce,floatingLabel:y(()=>e.hideSelected!==!0&&E.value===!0||typeof m.value=="number"||m.value.length>0||mt(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(c.value===!0||C.value!==!0||l["no-option"]!==void 0))return i===!0?$t():Ft();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(t){f.onControlFocusin(t)},onFocusout(t){f.onControlFocusout(t,()=>{ke(),xe()})},onClick(t){if(Te(t),i!==!0&&o.value===!0){xe(),B.value!==null&&B.value.focus();return}Ce(t)}},getControl:t=>{const v=Ht(),a=t===!0||c.value!==!0||i!==!0;if(e.useInput===!0)v.push(Ot(t,a));else if(f.editable.value===!0){const _=a===!0?de.value:void 0;v.push(V("input",{ref:a===!0?B:void 0,key:"d_t",class:"q-select__focus-target",id:a===!0?f.targetUid.value:void 0,readonly:!0,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,..._,onKeydown:nt,onKeyup:et,onKeypress:lt})),a===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&v.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:tt}))}if(re.value!==void 0&&e.disable!==!0&&He.value.length>0){const _=He.value.map(A=>V("option",{value:A,selected:!0}));v.push(V("select",{class:"hidden",name:re.value,multiple:e.multiple},_))}const w=e.useInput===!0||a!==!0?void 0:f.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...w},v)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[V(Le,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Se.value})]:null}),Tl(f)}});export{cn as Q,$l as a,Nl as b,sn as c,Dl as u};
