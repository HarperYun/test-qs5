import{Q as h,b as a,a as m}from"./QList.1b5f3033.js";import{ad as y,Y as u,as as o,Z as d,_ as t,F as f,a2 as p,aN as k,au as x,d as e,aw as w,L as g,a3 as l,az as r,a4 as q}from"./index.82d2cc82.js";const v=p("div",{class:"window-width text-center"},[p("h5",null,"\u8A02\u55AE\u7BA1\u7406")],-1),D=l("\u8A02\u55AEID"),B=l("\u4E0B\u55AE\u65E5\u671F"),L=l("\u5408\u8A08"),N=l("\u4E0B\u55AE\u5E33\u865F"),Q=l("\u8A02\u55AE\u5167\u5BB9"),S=p("p",null,"\u6C92\u6709\u8A02\u55AE",-1),F={__name:"OrdersPage",setup(I){const _=y([]);return(async()=>{try{const{data:c}=await k.get("/orders/all");_.push(...c.result.map(i=>(i.totalPrice=i.products.reduce((s,n)=>s+n.product.price*n.quantity,0),i)))}catch(c){console.log(c),x.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(c,i)=>(u(),o(f,null,[v,_.length>0?(u(),d(h,{key:0,separator:"",bordered:"",class:"q-pa-xs q-ma-none",style:{width:"90vw",margin:"auto"}},{default:t(()=>[e(m,null,{default:t(()=>[e(a,null,{default:t(()=>[D]),_:1}),e(a,null,{default:t(()=>[B]),_:1}),e(a,null,{default:t(()=>[L]),_:1}),e(a,null,{default:t(()=>[N]),_:1}),e(a,null,{default:t(()=>[Q]),_:1})]),_:1}),(u(!0),o(f,null,w(_,s=>g((u(),d(m,{clickable:"",class:"q-ma-none",key:s._id},{default:t(()=>[e(a,null,{default:t(()=>[l(r(s._id),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(new Date(s.date).toLocaleDateString()),1)]),_:2},1024),e(a,null,{default:t(()=>[l("$ "+r(s.totalPrice),1)]),_:2},1024),e(a,null,{default:t(()=>[l(r(s.user.account),1)]),_:2},1024),e(a,null,{default:t(()=>[(u(!0),o(f,null,w(s.products,n=>(u(),o("div",{key:n._id},r(n.product.name)+" x "+r(n.quantity)+" \uFF08"+r(n.remark)+"\uFF09 ",1))),128))]),_:2},1024)]),_:2},1024)),[[q]])),128))]),_:1})):(u(),d(h,{key:1,class:"text-center"},{default:t(()=>[S]),_:1}))],64))}};export{F as default};
