import{j as C,aF as V,aG as Q,c as w,h as g,$ as z,aH as B,Q as $,R as A,r as y,aa as N,U as i,ap as P,d as o,W as d,aI as E,F,_ as s,au as U,Y as S,aB as x,a0 as b,aw as p,V as c,aC as q,Z as m,X as v,aJ as I,ar as h}from"./index.11b28787.js";import{Q as M}from"./QForm.07f43b6f.js";var R=C({name:"QAvatar",props:{...V,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:r}){const _=Q(e),l=w(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),n=w(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[g(z,{name:e.icon})]:void 0;return g("div",{class:l.value,style:_.value},[g("div",{class:"q-avatar__content row flex-center overflow-hidden",style:n.value},B(r.default,a))])}}});const T=s("div",{class:"window-width text-center"},[s("h5",null,[s("b",null,"\u6703\u54E1\u8CC7\u6599")])],-1),j=["src"],D=s("span",{class:"textspan"},"\u6703\u54E1\u5E33\u865F\uFF1A",-1),G=s("span",{class:"textspan"},"\u6703\u54E1\u4FE1\u7BB1\uFF1A",-1),H=s("span",{class:"textspan"},"\u624B\u6A5F\u865F\u78BC\uFF1A",-1),J=s("span",{class:"textspan"},"\u6536\u4EF6\u5730\u5740\uFF1A",-1),Z={__name:"PersonPage",setup(e){const r=$(),{avatar:_}=A(r),l=y(!1),n=y(!1),a=N({phonenumber:"",address:""}),k=async()=>{try{const{data:f}=await I.patch("/users",a);h.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"})}catch(f){h.fire({icon:"error",title:"\u5931\u6557",text:f.isAxiosError?f.response.data.message:f.message})}};return(()=>{a.phonenumber=r.phonenumber,a.address=r.address})(),(f,t)=>(i(),P(F,null,[T,o(M,{onSubmit:E(k,["prevent"]),class:"m-form"},{default:d(()=>[o(U,{class:"membercard q-pa-md textsize text-center"},{default:d(()=>[o(R,{class:"avatar q-mt-lg"},{default:d(()=>[s("img",{src:S(_)},null,8,j)]),_:1}),o(x,{class:"personalinformation q-px-xl text-left q-mt-lg"},{default:d(()=>[D,b(p(S(r).account),1)]),_:1}),o(x,{class:"personalinformation q-px-xl text-left"},{default:d(()=>[G,b(p(S(r).email),1)]),_:1}),o(x,{class:"personalinformation q-px-xl text-left"},{default:d(()=>[s("p",null,[H,b(p(a.phonenumber),1)]),l.value?(i(),c(q,{key:0,modelValue:a.phonenumber,"onUpdate:modelValue":t[0]||(t[0]=u=>a.phonenumber=u),label:"\u8ACB\u8F38\u5165\u624B\u6A5F\u865F\u78BC"},null,8,["modelValue"])):m("",!0),l.value?(i(),c(v,{key:1,class:"bg-amber-5 text-brown-9 self-end",onClick:t[1]||(t[1]=u=>l.value=!l.value),label:"\u78BA\u8A8D"})):m("",!0),l.value?m("",!0):(i(),c(v,{key:2,class:"bg-brown-6 text-white self-end",onClick:t[2]||(t[2]=u=>l.value=!l.value),label:"\u7DE8\u8F2F"}))]),_:1}),o(x,{class:"personalinformation q-px-xl text-left"},{default:d(()=>[s("p",null,[J,b(p(a.address),1)]),n.value?(i(),c(q,{key:0,modelValue:a.address,"onUpdate:modelValue":t[3]||(t[3]=u=>a.address=u),label:"\u8ACB\u8F38\u5165\u6536\u4EF6\u5730\u5740"},null,8,["modelValue"])):m("",!0),n.value?(i(),c(v,{key:1,class:"bg-amber-5 text-brown-9 self-end",onClick:t[4]||(t[4]=u=>n.value=!n.value),label:"\u78BA\u8A8D"})):m("",!0),n.value?m("",!0):(i(),c(v,{key:2,class:"bg-brown-6 text-white self-end",onClick:t[5]||(t[5]=u=>n.value=!n.value),label:"\u7DE8\u8F2F"}))]),_:1}),o(v,{class:"bg-amber-5 text-brown-9 updatebtn q-ma-lg q-mt-xl",type:"submit",label:"\u66F4 \u65B0"})]),_:1})]),_:1},8,["onSubmit"])],64))}};export{Z as default};
