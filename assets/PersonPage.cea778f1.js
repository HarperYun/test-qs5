import{Q as _}from"./QAvatar.e2399074.js";import{Q as f,R as x,U as h,as as b,d as a,W as s,aI as g,F as w,_ as n,ax as Q,Y as r,ay as l,a0 as u,az as i,aF as v,X as y,aJ as S,au as c}from"./index.14f8a914.js";import{Q as V}from"./QForm.a158e44f.js";const F=n("div",{class:"window-width text-center"},[n("h5",null,[n("b",null,"\u6703\u54E1\u8CC7\u6599")])],-1),B=["src"],N={__name:"PersonPage",setup(P){const e=f(),{avatar:d}=x(e),m=async()=>{const o=new FormData;o.append("phonenumber",e.phonenumber),o.append("address",e.address);try{const{data:t}=await S.patch("/users/",o);c.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"})}catch(t){c.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})}};return(o,t)=>(h(),b(w,null,[F,a(V,{onSubmit:g(m,["prevent"])},{default:s(()=>[a(Q,{class:"membercard q-pa-md text-h6 text-center"},{default:s(()=>[a(_,{class:"avatar q-mt-lg"},{default:s(()=>[n("img",{src:r(d)},null,8,B)]),_:1}),a(l,{class:"personalinformation text-left q-mt-lg"},{default:s(()=>[u("\u6703\u54E1\u5E33\u865F\uFF1A"+i(r(e).account),1)]),_:1}),a(l,{class:"personalinformation text-left"},{default:s(()=>[u("\u6703\u54E1\u4FE1\u7BB1\uFF1A"+i(r(e).email),1)]),_:1}),a(l,{class:"personalinformation text-left"},{default:s(()=>[n("p",null,"\u624B\u6A5F\u865F\u78BC\uFF1A"+i(r(e).phonenumber),1),a(v,{modelValue:r(e).phonenumber,"onUpdate:modelValue":t[0]||(t[0]=p=>r(e).phonenumber=p),label:"\u8ACB\u8F38\u5165\u624B\u6A5F\u865F\u78BC"},null,8,["modelValue"])]),_:1}),a(y,{class:"bg-green-10 text-white self-end",type:"submit",label:"\u66F4\u65B0"})]),_:1})]),_:1},8,["onSubmit"])],64))}};export{N as default};
