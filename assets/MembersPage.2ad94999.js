import{Q as h,b as a,a as m}from"./QList.153939dd.js";import{aa as w,U as o,as as p,V as i,W as e,F as g,_,aN as x,au as d,d as t,aw as k,a0 as l,az as u,X as b}from"./index.eb96c274.js";const v=_("div",{class:"window-width text-center"},[_("h5",null,[_("b",null,"\u6703\u54E1\u7BA1\u7406")])],-1),B=l("\u6703\u54E1ID"),Q=l("\u6703\u54E1\u4FE1\u7BB1"),N=l("\u6703\u54E1\u5E33\u865F"),V=l("\u64CD\u4F5C"),q=_("p",null,"\u6C92\u6709\u6703\u54E1",-1),E={__name:"MembersPage",setup(C){const r=w([]),y=async s=>{console.log(s);try{await x.delete("/users/"+s),await d.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),f()}catch(c){d.fire({icon:"error",title:"\u522A\u9664\u5931\u6557",text:c.isAxiosError?c.response.data.message:c.message})}},f=async()=>{try{const{data:s}=await x.get("/users/all");r.splice(0,r.length),r.push(...s.result)}catch(s){console.log(s),d.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u5217\u8868"})}};return f(),(s,c)=>(o(),p(g,null,[v,r.length>0?(o(),i(h,{key:0,separator:"",bordered:"",class:"q-pa-xs q-ma-none",style:{width:"80vw",margin:"auto"}},{default:e(()=>[t(m,null,{default:e(()=>[t(a,null,{default:e(()=>[B]),_:1}),t(a,null,{default:e(()=>[Q]),_:1}),t(a,null,{default:e(()=>[N]),_:1}),t(a,{class:"text-right"},{default:e(()=>[V]),_:1})]),_:1}),(o(!0),p(g,null,k(r,n=>(o(),i(m,{clickable:"",class:"q-ma-none",key:n._id},{default:e(()=>[t(a,null,{default:e(()=>[l(u(n._id),1)]),_:2},1024),t(a,null,{default:e(()=>[l(u(n.email),1)]),_:2},1024),t(a,null,{default:e(()=>[l(u(n.account),1)]),_:2},1024),t(a,null,{default:e(()=>[(o(),i(b,{key:n._id,class:"bg-red-10 text-red-1 self-end",icon:"delete",onClick:S=>y(n._id),label:"\u522A\u9664"},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1})):(o(),i(h,{key:1,class:"text-center"},{default:e(()=>[q]),_:1}))],64))}};export{E as default};
